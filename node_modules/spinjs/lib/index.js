"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var minilog = require("minilog");
var yargs = require("yargs");
var createConfig_1 = require("./createConfig");
var executor_1 = require("./executor");
var init_1 = require("./init");
minilog.enable();
var argv = yargs
    .command('build', 'compiles package for usage in production')
    .command('watch', 'launches package in development mode with hot code reload')
    .command('test [mocha-webpack options]', 'runs package tests')
    .demandCommand(1, '')
    .option('verbose', {
    alias: 'v',
    default: false,
    describe: 'Show generated config',
    type: 'boolean'
})
    .help()
    .version(require('../package.json').version)
    .argv;
var cmd = argv._[0];
var config;
if (cmd === 'watch' || cmd === 'build' || cmd === 'test') {
    config = createConfig_1.default(cmd);
}
if (cmd === 'init') {
    init_1.default();
}
else {
    executor_1.default(cmd, argv, config.builders, config.options);
}
//# sourceMappingURL=index.js.map